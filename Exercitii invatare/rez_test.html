<!DOCTYPE html>

<html>
  <head>
    <style>
      #btnViz {
        color: green;
        border: 1px solid green;
        font-family: Arial, Helvetica, sans-serif;
        font-weight: bold;
      }
    </style>
    <script type="text/javascript">
      let date = [
        { tara: "BG", an: 2013, pop: 11137974 },

        { tara: "BG", an: 2014, pop: 11180840 },

        { tara: "BG", an: 2015, pop: 11237274 },

        { tara: "BG", an: 2016, pop: 11311117 },

        { tara: "BG", an: 2017, pop: 11351727 },

        { tara: "BG", an: 2018, pop: 11398589 },

        { tara: "HU", an: 2013, pop: 2971905 },

        { tara: "HU", an: 2014, pop: 2943472 },

        { tara: "HU", an: 2015, pop: 2921262 },

        { tara: "HU", an: 2016, pop: 2888558 },

        { tara: "HU", an: 2017, pop: 2847904 },

        { tara: "HU", an: 2018, pop: 2808901 },

        { tara: "RO", an: 2013, pop: 10487289 },

        { tara: "RO", an: 2014, pop: 10427301 },

        { tara: "RO", an: 2015, pop: 10374822 },

        { tara: "RO", an: 2016, pop: 10341330 },

        { tara: "RO", an: 2017, pop: 10309573 },

        { tara: "RO", an: 2018, pop: 10291027 },
      ];

      function popMax() {
        let max = date[0];
        for (let i = 0; i < date.length; i++) {
          if (Number(date[i].pop) > Number(max.pop)) {
            max = date[i];
          }
        }
        return max;
      }
      document.addEventListener("DOMContentLoaded", () => {
        const btnMax = document.querySelector("#btnMax");
        const btnViz = document.querySelector("#btnViz");
        const select = document.querySelector("#selectAn");
        const paragraf = document.querySelector("#pop");
        const list = document.querySelector("#list");
        btnMax.addEventListener("click", () => {
          let maxim = popMax();
          paragraf.innerHTML = `Populația maximă a fost atinsă în anul ${maxim.an} în țara ${maxim.tara}`;
        });
        function afisare(optiune) {
          let afisareHTML = "";
          for (let i = 0; i < date.length; i++) {
            if (date[i].an === optiune) {
              afisareHTML += `<li>${date[i].tara} - ${date[i].pop} locuitori</li>`;
            }
          }
          list.innerHTML = afisareHTML;
        }
        btnViz.addEventListener("click", () => {
          const optiune = Number(select.value);
          afisare(optiune);
        });
      });
    </script>
  </head>

  <body>
    <select id="selectAn">
      <option>2013</option>
      <option>2014</option>
      <option>2015</option>
      <option>2016</option>
      <option>2017</option>
      <option>2018</option>
    </select>
    <button id="btnViz">Vizualizare</button>
    <button id="btnMax">Maxim</button>
    <ul id="list"></ul>
    <p id="pop"></p>
  </body>
</html>
